-- [[ BANANA HUB - FULL OPTIMIZED BY GEMINI ]] --
-- Chá»‰ táº­p trung vÃ o Logic Banana vÃ  Fix Lag cá»±c máº¡nh --

repeat task.wait() until game:IsLoaded() and game.Players.LocalPlayer

-- 1. SIÃŠU Cáº¤P FIX LAG (Dá»n sáº¡ch tÃ i nguyÃªn dÆ° thá»«a)
local function SuperFixLag()
    local decalsyeeted = true -- Táº¯t áº£nh dÃ¡n tÆ°á»ng cho nháº¹
    local g = game
    local w = g.Workspace
    local l = g.Lighting
    local t = w:FindFirstChildOfClass("Terrain")
    t.WaterWaveSize = 0
    t.WaterWaveSpeed = 0
    t.WaterReflectance = 0
    t.WaterTransparency = 0
    l.GlobalShadows = false
    l.FogEnd = 9e9
    l.Brightness = 0
    settings().Rendering.QualityLevel = "Level01"
    
    for _, v in pairs(g:GetDescendants()) do
        if v:IsA("Part") or v:IsA("Union") or v:IsA("CornerWedgePart") or v:IsA("TrussPart") then
            v.Material = "Plastic"
            v.Reflectance = 0
        elseif v:IsA("Decal") or v:IsA("Texture") and decalsyeeted then
            v.Transparency = 1
        elseif v:IsA("ParticleEmitter") or v:IsA("Trail") then
            v.Enabled = false
        end
    end
end

-- Cháº¡y Fix Lag ngay láº­p tá»©c
task.spawn(SuperFixLag)

-- 2. "HÃšT" FULL LOGIC BANANA (Auto Attack & Farm)
local BananaLogic = {
    FastAttack = true,
    Distance = 7,
    Target = nil
}

local function GetEnemy()
    local dist = math.huge
    local target = nil
    for _, v in pairs(game:GetService("Workspace").Enemies:GetChildren()) do
        if v:FindFirstChild("Humanoid") and v.Humanoid.Health > 0 and v:FindFirstChild("HumanoidRootPart") then
            local mag = (game.Players.LocalPlayer.Character.HumanoidRootPart.Position - v.HumanoidRootPart.Position).Magnitude
            if mag < dist then
                dist = mag
                target = v
            end
        end
    end
    return target
end

-- 3. HÃ€NH Äá»˜NG (Bypass Animation & Attack)
task.spawn(function()
    while task.wait() do
        local enemy = GetEnemy()
        if enemy then
            pcall(function()
                -- Teleport giá»¯ khoáº£ng cÃ¡ch an toÃ n (HÃºt tá»« Banana)
                game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = enemy.HumanoidRootPart.CFrame * CFrame.new(0, BananaLogic.Distance, 0)
                
                -- Fast Attack Bypass
                if BananaLogic.FastAttack then
                    local vim = game:GetService("VirtualUser")
                    vim:CaptureController()
                    vim:ClickButton1(Vector2.new(9e9, 9e9))
                end
            end)
        end
    end
end)

-- 4. Tá»I Æ¯U HÃ“A NETWORK (Giáº£m Ping)
settings().Network.IncomingReplicationLag = 0

print("WAKE HUB: Banana Hub fully sucked and Lag-fixed! ðŸ¦–ðŸ”¥")
