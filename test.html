<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T-REX X | NgVn V1.5</title>
    <style>
        :root { --red: #ff0000; --green: #00ff00; --pink: #ff0080; --dark: #050000; --yellow: #ffff00; --gray: #1a1a1a; }
        body { background: var(--dark); color: var(--green); font-family: 'Courier New', monospace; margin: 0; padding: 15px; display: flex; justify-content: center; }
        .altar { max-width: 500px; width: 100%; border: 2px solid var(--red); padding: 20px; box-shadow: 0 0 25px #500; border-radius: 15px; background: #000; position: relative; }
        h1 { color: var(--red); text-shadow: 0 0 10px var(--red); margin: 10px 0; font-size: 26px; text-align: center; letter-spacing: 2px; text-transform: uppercase; }
        
        /* TABS */
        .tabs { display: flex; gap: 4px; margin-bottom: 20px; border-bottom: 1px solid var(--red); padding-bottom: 10px; }
        .tab-btn { flex: 1; padding: 10px 5px; background: var(--gray); color: #fff; border: 1px solid var(--red); cursor: pointer; font-weight: bold; border-radius: 5px; font-size: 11px; text-transform: uppercase; transition: 0.3s; }
        .tab-btn.active { background: var(--red); color: #000; box-shadow: 0 0 10px var(--red); }
        
        .content { display: none; animation: fadeIn 0.4s ease-in; }
        .content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* INPUTS & BUTTONS */
        input { width: 92%; padding: 12px; background: #0a0a0a; border: 1px solid var(--red); color: #fff; margin: 8px 0; text-align: center; border-radius: 5px; font-size: 16px; outline: none; }
        button.main-btn { background: var(--red); color: #000; border: none; padding: 15px; font-weight: bold; cursor: pointer; width: 100%; border-radius: 5px; margin-top: 10px; text-transform: uppercase; transition: 0.2s; }
        button.main-btn:active { transform: scale(0.95); }

        /* RESULT BOX */
        .result-box { margin-top: 20px; text-align: left; line-height: 1.6; border: 1px dashed #444; padding: 15px; min-height: 80px; background: #080808; border-radius: 8px; }
        .bad { color: var(--red); }
        .good { color: var(--green); }
        .love { color: var(--pink); }
        
        /* CHAT SYSTEM */
        #chatBox { height: 350px; overflow-y: auto; border: 1px solid #333; padding: 10px; background: #050505; border-radius: 5px; margin-bottom: 10px; display: flex; flex-direction: column; gap: 8px; }
        .chat-msg { font-size: 14px; padding: 5px; border-radius: 4px; background: #0f0f0f; border-left: 2px solid #333; word-wrap: break-word; }
        .chat-name { color: var(--yellow); font-weight: bold; margin-right: 5px; text-transform: uppercase; }
        .chat-text { color: #fff; }
        .chat-controls { display: flex; gap: 5px; }
        #msgInput { flex: 1; text-align: left; margin: 0; }
        .send-btn { width: 60px; background: var(--green); color: #000; border: none; border-radius: 5px; font-weight: bold; cursor: pointer; }
        .mini-btn { font-size: 10px; padding: 5px 10px; background: #333; color: #aaa; border: none; cursor: pointer; margin-top: 5px; border-radius: 3px; }

        /* ANIMATION */
        .shake { animation: shake 0.2s cubic-bezier(.36,.07,.19,.97) both; }
        @keyframes shake { 10%, 90% { transform: translate3d(-1px, 0, 0); } 20%, 80% { transform: translate3d(2px, 0, 0); } 30%, 50%, 70% { transform: translate3d(-4px, 0, 0); } 40%, 60% { transform: translate3d(4px, 0, 0); } }
        .sys-msg { color: #555; font-style: italic; font-size: 10px; text-align: center; display: block; margin-top: 15px; }
    </style>
</head>
<body>

<div class="altar">
    <h1>ğŸ¦– T-REX X</h1>
    <div class="tabs">
        <button class="tab-btn active" onclick="openTab('sm-tab', this)">Sá» Má»†NH</button>
        <button class="tab-btn" onclick="openTab('td-tab', this)">TÃŒNH DUYÃŠN</button>
        <button class="tab-btn" onclick="openTab('chat-tab', this)">PHÃ’NG CHAT</button>
    </div>

    <div id="sm-tab" class="content active">
        <input type="text" id="nameSM" placeholder="NHáº¬P TÃŠN Cá»¦A Báº N..." spellcheck="false">
        <button class="main-btn" onclick="soiSoMenh()">XEM QUáºº</button>
        <div id="resSM" class="result-box">>>> Nháº­p tÃªn Ä‘á»ƒ há»‡ thá»‘ng soi xÃ©t...</div>
    </div>

    <div id="td-tab" class="content">
        <input type="text" id="td1" placeholder="TÃŠN Báº N..." spellcheck="false">
        <input type="text" id="td2" placeholder="TÃŠN NGÆ¯á»œI áº¤Y..." spellcheck="false">
        <button class="main-btn" onclick="soiTinhDuyen()">SOI DUYÃŠN L-O-V-E</button>
        <div id="resTD" class="result-box">>>> Chá»‰ soi má»™t láº§n duy nháº¥t!</div>
    </div>

    <div id="chat-tab" class="content">
        <div id="chatNameArea">
            <p style="text-align:center; color:#888; font-size:12px;">Äáº¶T TÃŠN Äá»‚ THAM GIA CHAT</p>
            <input type="text" id="userChatName" placeholder="TÃªn hiá»ƒn thá»‹ (VD: ThÃ¡i)" maxlength="15">
            <button class="main-btn" onclick="saveChatName()">VÃ€O PHÃ’NG CHAT</button>
        </div>
        <div id="chatMainArea" style="display:none;">
            <div id="chatBox"></div>
            <div class="chat-controls">
                <input type="text" id="msgInput" placeholder="Nháº­p tin nháº¯n..." autocomplete="off">
                <button class="send-btn" onclick="sendChat()">Gá»¬I</button>
            </div>
            <div style="display:flex; justify-content:space-between;">
                <button class="mini-btn" onclick="clearChatName()">Äá»•i TÃªn</button>
                <button class="mini-btn" onclick="clearChatHistory()">XÃ³a Lá»‹ch Sá»­ Chat</button>
            </div>
        </div>
    </div>
    
    <span class="sys-msg">T-REX X | NgVn V1.5 - NO REPORT TAB</span>
</div>

<script>
    let smHistory = {};
    let tdHistory = {};

    function openTab(tabId, btn) {
        document.querySelectorAll('.content').forEach(c => c.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        document.getElementById(tabId).classList.add('active');
        btn.classList.add('active');
        if(tabId === 'chat-tab') checkChatAuth();
    }

    const listXui = [
        "Sá»‘ Ä‘en nhÆ° chÃ³ má»±c, ra Ä‘Æ°á»ng nhá»› nhÃ¬n trÆ°á»›c ngÃ³ sau.",
        "Tiá»n báº¡c Ä‘á»™i nÃ³n ra Ä‘i, thÃ¡ng nÃ y Äƒn mÃ¬ gÃ³i cáº§m hÆ¡i.",
        "TÃ¬nh duyÃªn láº­n Ä‘áº­n, yÃªu ai cÅ©ng bá»‹ 'cáº¯m sá»«ng'.",
        "LÃ m gÃ¬ cÅ©ng há»ng, tá»‘t nháº¥t nÃªn náº±m im thá»Ÿ kháº½.",
        "Ra Ä‘Æ°á»ng dáº«m pháº£i 'mÃ¬n', vá» nhÃ  máº¥t wifi.",
        "Cáº©n tháº­n cÃ¡i má»“m, dá»… bá»‹ Äƒn Ä‘áº¥m.",
        "Máº¥t vÃ­, máº¥t chÃ¬a khÃ³a, máº¥t luÃ´n niá»m tin.",
        "Sá»‘ khÃ´ng giÃ u Ä‘Æ°á»£c Ä‘Ã¢u, Ä‘á»«ng mÆ¡ má»™ng.",
        "Äi thi quÃªn mang bÃºt, Ä‘i lÃ m quÃªn mang nÃ£o.",
        "Bá»‹ sáº¿p chá»­i, Ä‘á»“ng nghiá»‡p nÃ³i xáº¥u, Ä‘á»i quÃ¡ Ä‘en.",
        "Vá»«a mua Ä‘á»“ xong thÃ¬ nÃ³ giáº£m giÃ¡ 50%, cay!",
        "Crush cÃ´ng khai ngÆ°á»i yÃªu, vÃ  Ä‘Ã³ khÃ´ng pháº£i lÃ  báº¡n.",
        "Äang táº¯m thÃ¬ háº¿t nÆ°á»›c, Ä‘ang 'áº¥y' thÃ¬ háº¿t giáº¥y.",
        "Cho báº¡n vay tiá»n, máº¥t cáº£ tiá»n láº«n báº¡n.",
        "Sá»‘ má»‡nh kháº¯c khá»•, lÃ m trÃ¢u lÃ m ngá»±a cho ngÆ°á»i ta.",
        "Äáº§u nÄƒm háº¡n, giá»¯a nÄƒm xui, cuá»‘i nÄƒm Ä‘en.",
        "Ä‚n uá»‘ng cáº©n tháº­n, dá»… bá»‹ tÃ o thÃ¡o rÆ°á»£t.",
        "NhÃ¬n máº·t lÃ  tháº¥y chá»¯ 'NghÃ¨o' hiá»‡n lÃªn trÃ¡n.",
        "Cáº©n tháº­n bá»‹ lá»«a tÃ¬nh, lá»«a tiá»n, lá»«a cáº£ dÃ©p.",
        "SÃ¡ng ra ngÃµ gáº·p gÃ¡i dá»¯, tá»‘i vá» gáº·p chá»§ ná»£."
    ];

    const listHen = [
        "Sá»‘ Ä‘áº¡i gia, tiá»n Ä‘Ã¨ cháº¿t ngÆ°á»i, tiÃªu khÃ´ng háº¿t.",
        "QuÃ½ nhÃ¢n phÃ¹ trá»£, Ä‘i Ä‘Ã¢u cÅ©ng cÃ³ ngÆ°á»i giÃºp.",
        "TÃ¬nh duyÃªn rá»±c rá»¡, sáº¯p cÃ³ ngÆ°á»i tá» tÃ¬nh.",
        "ThÃ´ng minh xuáº¥t chÃºng, lÃ m trÃ¹m thiÃªn háº¡.",
        "Sá»± nghiá»‡p thÄƒng tiáº¿n vÃ¹ vÃ¹ nhÆ° diá»u gáº·p giÃ³.",
        "May máº¯n gÃµ cá»­a, mua vÃ© sá»‘ dá»… trÃºng Ä‘á»™c Ä‘áº¯c.",
        "Ra Ä‘Æ°á»ng nháº·t Ä‘Æ°á»£c tiá»n, vá» nhÃ  Ä‘Æ°á»£c cho Ä‘áº¥t.",
        "Sá»©c khá»e dá»“i dÃ o, bá»‡nh táº­t tiÃªu tan.",
        "Má»i viá»‡c hanh thÃ´ng, muá»‘n gÃ¬ Ä‘Æ°á»£c náº¥y.",
        "Sá»‘ hÆ°á»Ÿng tá»« trong trá»©ng nÆ°á»›c, sÆ°á»›ng nhÆ° tiÃªn.",
        "CÃ³ tÆ°á»›ng lÃ m quan to, hÃ©t ra lá»­a.",
        "Gia Ä‘áº¡o Ãªm áº¥m, con chÃ¡u Ä‘á» huá».",
        "Kinh doanh phÃ¡t Ä‘áº¡t, tiá»n vÃ o nhÆ° nÆ°á»›c.",
        "Äi Ä‘Ã¢u cÅ©ng Ä‘Æ°á»£c yÃªu máº¿n, hoa gáº·p hoa ná»Ÿ.",
        "Váº­n Ä‘á» nhÆ° son, Ä‘Ã¡nh Ä‘Ã¢u tháº¯ng Ä‘Ã³.",
        "Sáº¯p cÃ³ lá»™c Äƒn uá»‘ng, tiá»‡c tÃ¹ng sang cháº£nh.",
        "ÄÆ°á»£c sáº¿p tin tÆ°á»Ÿng, thÄƒng chá»©c tÄƒng lÆ°Æ¡ng.",
        "Crush Ä‘ang Ä‘á»ƒ Ã½ báº¡n Ä‘áº¥y, tá»›i luÃ´n Ä‘i.",
        "Sá»‘ má»‡nh PhÆ°á»£ng HoÃ ng, tá»a sÃ¡ng rá»±c rá»¡.",
        "Tháº§n tÃ i Ä‘ang Ä‘á»©ng trÆ°á»›c cá»­a nhÃ  báº¡n."
    ];

    function soiSoMenh() {
        const n = document.getElementById('nameSM').value.trim();
        const res = document.getElementById('resSM');
        if(!n) return;
        if(smHistory[n.toLowerCase()]) {
            res.innerHTML = `<b class="bad">Há»† THá»NG:</b> PhÃ¡n rá»“i, Ä‘á»«ng nhÃ¢y!`;
            res.classList.add('shake'); setTimeout(()=>res.classList.remove('shake'), 500);
            return;
        }
        smHistory[n.toLowerCase()] = true;
        let score = (n.length * 21 + 7) % 100;
        let isXui = score < 45;
        let msg = isXui ? listXui[Math.floor(Math.random()*listXui.length)] : listHen[Math.floor(Math.random()*listHen.length)];
        res.innerHTML = `<b>TÃŠN:</b> ${n.toUpperCase()}<br><b>CÄ‚N CÆ :</b> <span class="${isXui?'bad':'good'}" style="font-size:20px">${score}/100</span><br><b class="${isXui?'bad':'good'}">PHÃN:</b> ${msg}`;
    }

    function soiTinhDuyen() {
        const n1 = document.getElementById('td1').value.trim().toUpperCase();
        const n2 = document.getElementById('td2').value.trim().toUpperCase();
        const res = document.getElementById('resTD');
        if(!n1 || !n2) return;
        const key = [n1, n2].sort().join("-").toLowerCase();
        if(tdHistory[key]) {
            res.innerHTML = `<b class="bad">Há»† THá»NG:</b> Duy nháº¥t má»™t quáº» thÃ´i!`;
            res.classList.add('shake'); setTimeout(()=>res.classList.remove('shake'), 500);
            return;
        }
        tdHistory[key] = true;
        let pt = Math.min(((n1+n2).match(/[LOVE]/g) || []).length * 15 + 10, 100);
        let cls = pt < 45 ? "bad" : (pt < 75 ? "good" : "love");
        res.innerHTML = `<b>Äá»˜ Há»¢P:</b> <span class="${cls}" style="font-size:20px">${pt}%</span><br><b>PHÃN:</b> ${pt<45?"KhÃ´ng há»£p Ä‘Ã¢u.":(pt<75?"CÃ³ duyÃªn Ä‘áº¥y.":"Trá»i sinh má»™t cáº·p!")}`;
    }

    /* CHAT LOGIC */
    function checkChatAuth() {
        const name = localStorage.getItem('trex_chat_name');
        document.getElementById('chatNameArea').style.display = name ? 'none' : 'block';
        document.getElementById('chatMainArea').style.display = name ? 'block' : 'none';
        if(name) loadChat();
    }
    function saveChatName() {
        const n = document.getElementById('userChatName').value.trim();
        if(n.length < 2) return alert("TÃªn ngáº¯n quÃ¡!");
        localStorage.setItem('trex_chat_name', n);
        checkChatAuth();
    }
    function clearChatName() { if(confirm("Äá»•i tÃªn?")) { localStorage.removeItem('trex_chat_name'); checkChatAuth(); } }
    function clearChatHistory() { if(confirm("XÃ³a chat?")) { localStorage.removeItem('trex_chat_msgs'); loadChat(); } }
    function sendChat() {
        const txt = document.getElementById('msgInput').value.trim();
        if(!txt) return;
        let msgs = JSON.parse(localStorage.getItem('trex_chat_msgs') || "[]");
        msgs.push({ name: localStorage.getItem('trex_chat_name'), text: txt });
        localStorage.setItem('trex_chat_msgs', JSON.stringify(msgs));
        document.getElementById('msgInput').value = "";
        loadChat();
    }
    function loadChat() {
        const msgs = JSON.parse(localStorage.getItem('trex_chat_msgs') || "[]");
        document.getElementById('chatBox').innerHTML = msgs.map(m => `<div class="chat-msg"><span class="chat-name">${m.name}:</span> <span class="chat-text">${m.text}</span></div>`).join("");
        document.getElementById('chatBox').scrollTop = document.getElementById('chatBox').scrollHeight;
    }
    document.getElementById('msgInput')?.addEventListener("keypress", e => { if(e.key === "Enter") sendChat(); });
</script>
</body>
    </html>
    
